---
// component imports
import MainLayout from "../../layouts/MainLayout.astro";
import PostCard from "../../components/PostCard.astro";

// utils imports
import { formatBlogPosts } from "../../js/utils"

const allPosts = await Astro.glob("./*.md");
const formattedPosts = formatBlogPosts(allPosts/* , {
	filterOutDrafts: false,
	filterOutFuturePosts: true,
	sortByDate: true,
	limit: 1
} */);


// console.log(allPosts[0]);

---

<MainLayout title="My Blog" description="Index Blog Page Description">
	<section class="container" aria-label="New Blog Posts">
		<h1 class="h1">New Blog Posts</h1>
		{
			formattedPosts.map((post) => (
				<PostCard 
					frontmatter={post.frontmatter} 
					url={post.url} 
					tagType="h2" 
				/>
			))
		}
	</section>
</MainLayout>
